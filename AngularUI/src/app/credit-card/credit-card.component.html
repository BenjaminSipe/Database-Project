<div class="">
  <div *ngIf="!(showDetails || newCardPage)">
    <div class="row">
      <label for="bookTable">
        <h3 class="p-3">My Credit Cards:</h3>
      </label>
    </div>
    <div class="row-fluid">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Billing Address</th>
            <th scope="col">Name On Card</th>
            <th scope="col">Expiration Date</th>
            <th scope="col">Credit Card Number</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of creditCards; let i = index" (click)="cardDetails(i)">
            <td class="align-middle">{{ c.BillingAddress }}</td>
            <td class="align-middle"> {{ c.NameOnCard }}</td>
            <td class="align-middle">{{ c.ExpirationDate }}</td>
            <td class="align-middle">
              ****************{{c.CreditCardPrompt}}
              <!-- <a [routerLink]="['/admin/books/', b.BookID]">Details</a> -->
            </td>
            <td class="align-middle">
              <button class="btn btn-outline-danger" (click)="deleteCard(c.CreditcardID, i)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-right" style="padding:.5em;">
        <button class="btn btn-outline-danger" (click)="newCreditCard()">New Credit Card</button>
      </div>
    </div>
  </div>
  <div *ngIf="showDetails" style="padding:3em;" class="align-middle">
    <div class="card-block text-center">
      <h4 class="card-title" style="padding:1em;">Billing Address: {{creditCard.BillingAddress}}</h4>
      <div style="padding:1em;">
        <h6>Card Holder's Name: {{creditCard.NameOnCard}}</h6>
        <!-- <p>{{ a.Bio }}</p> -->
      </div>
      <div style="padding:1em;">
        <p> Expiration Date: {{creditCard.ExpirationDate}}</p>
      </div>
      <p style="padding:1em;">Card Number: ****************{{creditCard.CreditCardPrompt}}</p>
      <div class="d-flex justify-content-between">
        <button (click)="showDetails = !showDetails" class="btn btn-dark">Back</button>
      </div>
    </div>
  </div>
  <div *ngIf="newCardPage" style="padding:1em;" class="">
    <h4>New Credit Card</h4>
    <form #AddCreditCard="ngForm" class="align-middle" (ngSubmit)="onClick()">
    <div class="form-group">
      <label for="BillingAddress">Billing Address</label>
      <div *ngIf="error[0]!=''" class="alert alert-danger" role="alert">
          {{error[0]}}
      </div>
      <input [value]="newCard.BillingAddress" (input)="newCard.BillingAddress = $event.target.value" type="text" class="form-control"
        id="BillingAddress" placeholder="Enter Billing Address" aria-required="true">
    </div>
    <div class="form-group">
      <label for="NameOnCard">Card Holder's Name</label>
      <div *ngIf="error[1]!=''" class="alert alert-danger" role="alert">
          {{error[1]}}
      </div>
      <input [value]="newCard.NameOnCard" (input)="newCard.NameOnCard = $event.target.value" type="text" class="form-control"
        id="NameOnCard" placeholder="Enter Card Holder's Name" aria-required="true">
    </div>
    <div class="form-group">
        <label for="ExpirationDate">Expiration Date (MM/YY)</label>
      <div *ngIf="error[2]!=''" class="alert alert-danger" role="alert">
          {{error[2]}}
      </div>
      <input [value]="newCard.ExpirationDate" (input)="newCard.ExpirationDate = $event.target.value" type="text" class="form-control"
        id="ExpirationDate" placeholder="Expiration Date" aria-required="true">
    </div>
    <div class="d-flex justify-content-between">
    <div class="form-group">
      <label for="CreditCardNumber">Credit Card Number</label>
      <div *ngIf="error[3]!=''" class="alert alert-danger" role="alert">
          {{error[3]}}
      </div>
      <input type="text" [value]="newCard.CreditCardNumber" (input)="newCard.CreditCardNumber = $event.target.value"
        class="form-control" id="CreditCardNumber" aria-describedby="emailHelp" placeholder="Repeat Password">
    </div>
    <div class="form-group">
      <label for="CCV">CCV</label>
      <div *ngIf="error[4]!=''" class="alert alert-danger" role="alert">
          {{error[4]}}
      </div>
      <input [value]="newCard.CCV" (input)="newCard.CCV = $event.target.value" type="text" class="form-control"
          placeholder="Enter CCV">
    </div>
  </div>
    <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-dark">Save</button>
        <button (click)="newCardPage = !newCardPage" class="btn btn-outline-dark">Cancel</button>
      </div>
    </form>
  </div>
</div>